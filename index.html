<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>どこでも進撃の巨人 - 三重の壁シミュレーター</title>
    <meta property="og:title" content="どこでも進撃の巨人 - 三重の壁シミュレーター">
    <meta property="og:description" content="もし今の場所に巨大な壁が現れたら？進撃の巨人の絶望的なスケールを現実の地図で体感。">
    <meta property="og:url" content="https://Tono-web.github.io/dokodemo-wall/">
    <meta property="og:image" content="https://Tono-web.github.io/dokodemo-wall/ogp.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        #map { height: 100vh; width: 100%; background: #1a1a1a; }
        body { margin: 0; padding: 0; font-family: 'serif'; }
        .info-panel {
            position: absolute; top: 10px; left: 50px; z-index: 1000;
            background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5); border: 2px solid #8b0000;
        }
        h1 { margin: 0 0 10px 0; font-size: 18px; color: #8b0000; }
        .legend { font-size: 12px; line-height: 1.6; }
    </style>
</head>
<body>

<div class="info-panel">
    <h1>どこでも進撃の巨人</h1>
    <div class="legend">
        地図をクリックすると、そこに<br><b>人類最後の砦</b>が出現します。<br><br>
        <span style="color:#e74c3c">■</span> <b>ウォール・マリア</b> (半径480km)<br>
        <span style="color:#e67e22">■</span> <b>ウォール・ローゼ</b> (半径380km)<br>
        <span style="color:#f1c40f">■</span> <b>ウォール・シーナ</b> (半径250km)
    </div>
</div>
<div id="map"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    // 1. 地図の初期化（少し暗めのレイヤーを使用）
    const map = L.map('map').setView([35.6895, 139.6917], 6);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap',
        className: 'map-tiles'
    }).addTo(map);

    let wallLayers = L.layerGroup().addTo(map);

    // 2. 壁を描画する関数
    function drawWalls(lat, lng) {
        wallLayers.clearLayers();

        L.marker([lat, lng]).addTo(wallLayers).bindPopup("シガンシナ区（中心点）").openPopup();

        const walls = [
            { name: "ウォール・マリア", radius: 480000, color: "#FF3333" }, // 鮮やかなネオンレッド
            { name: "ウォール・ローゼ", radius: 380000, color: "#FF9900" }, // 鮮やかなサンセットオレンジ
            { name: "ウォール・シーナ", radius: 250000, color: "#FFFF00" }  // 輝く純黄色
        ];

        walls.forEach(wall => {
            // 外側にぼんやりとした光（グロー効果）のような太い線を配置
            L.circle([lat, lng], {
                radius: wall.radius,
                color: wall.color,
                weight: 12,    // 太くして
                opacity: 0.2,  // かなり透明にする（これで光って見える）
                fill: false,
                interactive: false
            }).addTo(wallLayers);

            // メインの線
            L.circle([lat, lng], {
                radius: wall.radius,
                color: wall.color,
                weight: 4,
                opacity: 0.8,
                fillOpacity: 0.05,
                // dashArrayを外すと、より「壁」としての境界線がハッキリして映えます
            }).addTo(wallLayers).bindTooltip(wall.name);
        });
    }
    // 3. クリックで再配置
    map.on('click', function(e) {
        drawWalls(e.latlng.lat, e.latlng.lng);
    });

    // 初回描画（東京中心）
    drawWalls(35.6895, 139.6917);
</script>
</body>
</html>





